{"code":"!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=0)}([function(t,e,n){\"use strict\";n.r(e);n(1)},function(t,e){function n(t={}){const{template:e=\"\",data:n=(()=>{}),methods:o={},watch:r={}}=t;this.$watch=r,this.$watchers={},this.$methods=o,this.$data=n()||{},i(this,n()||{}),this.observe(this.$data),this.observe(this),i(this,this.$methods),this.$template=function(t=\"\"){const e=document.createElement(\"template\");return e.innerHTML=t.trim(),e.content.firstChild}(e),this.$sueDomNode=this.compile()}function o(t=[],e){t.forEach(t=>{t.update(e)})}function i(t,e){for(let n of Object.keys(e))t[n]=e[n]}function r(t,e,n,o){this.data=t,this.node=e,this.attribute=n,this.template=o}n.prototype.observe=function(t,e=\"\"){const n=this;if(!t||\"[object Object]\"!==Object.prototype.toString.call(t))return;const i=Object.keys(this.$data);for(let r of i){let i=t[r];const s=e+r;\"object\"==typeof i?(n.observe(i,s+\". \"),t[r]=new Proxy(i,{set(t,e,i,r){if(!Reflect.set(t,e,i,r))return!1;const c=s+\".\"+e;return o(n.$watchers[c],i),n.$watch[c]&&n.$watch[c](i),!0},get:(t,e,n)=>t[e]})):Object.defineProperty(t,r,{enumerable:!0,configurable:!1,get:()=>i,set(t){i=t,n.$watch[s]&&n.$watch[s](t),o(n.$watchers[s],t)}})}},n.prototype.compile=function(){const t=this,e=t.$template,n=t;if(!(e instanceof HTMLElement))throw new TypeError(\"The first argument must be an HTMLElement instance\");const o=document.createDocumentFragment();let i=e.firstChild;for(;i;)o.appendChild(i),i=e.firstChild;const s=/\\{\\{(.*?)\\}\\}/g,c=e=>{const o=e.childNodes;for(let e=0;e<o.length;e++){const i=o[e],a=i.nodeType,l=i.textContent;if(a===Node.TEXT_NODE&&s.test(l)&&(i.textContent=l.replace(s,(e,o)=>{let s=[];const c=o.split(\".\").reduce((t,e)=>(s.push(e),t[e]),n),a=s.join(\".\");return t.$watchers[a]=t.$watchers[a]||[],t.$watchers[a].push(new r(t,i,\"textContent\",l)),c})),a===Node.ELEMENT_NODE){const e=i.attributes;for(let o=0;o<e.length;o++){const s=e[o],c=s.name,a=s.value;if(t.$watchers[a]=t.$watchers[a]||[],\"v-model\"===c&&i.addEventListener(\"input\",t=>{const e=t.target.value,o=a.split(\".\"),i=o.splice(o.length-1)[0];o.reduce((t,e)=>t[e],n)[i]=e}),\":bind\"===c||\"v-model\"===c)i.value=a.split(\".\").reduce((t,e)=>t[e],n),t.$watchers[a].push(new r(t,i,\"value\")),i.removeAttribute(c);else if(c.startsWith(\":\")){const e=c.slice(1),o=a.split(\".\").reduce((t,e)=>t[e],n);i.setAttribute(e,o),t.$watchers[a].push(new r(t,i,e)),i.removeAttribute(c)}else if(c.startsWith(\"@\")){const e=c.slice(1),n=a;i.addEventListener(e,(function(){t.$methods[n].call(t)})),i.removeAttribute(c)}}}i.childNodes&&i.childNodes.length&&c(i)}};return c(o),e.appendChild(o),e},r.prototype.update=function(t){const e=this.attribute,n=this.data,o=this.template,i=/\\{\\{(.*?)\\}\\}/g;\"value\"===e?this.node[e]=t:\"innerText\"===e||\"innerHTML\"===e||\"textContent\"===e?this.node[e]=o.replace(i,(t,e)=>e.split(\".\").reduce((t,e)=>t[e],n)):\"style\"===e?this.node.style.cssText=t:this.node.setAttribute(e,t)};const s=new n({data:()=>({article:{title:\"wue\"},author:\"zhangyixiong\"}),watch:{author(t){console.log(\"author:\",t)}},methods:{onButtonClick(){this.author=\"zhangyixiong\",alert(\"clicked!\")}},template:'\\n            <div>\\n                <div style=\"font-size: 24px;\">{{article.title}}: {{author}}</div>\\n                <div>{{article.title}}</div>\\n                <div>{{author}}</div>\\n                <div><input type=\"text\" v-model=\"article.title\"></div>\\n                <div><input type=\"text\" v-model=\"author\"></div>\\n                <div><input type=\"text\" v-model=\"author\"></div>\\n                <div><button @click=\"onButtonClick\">click</button></div>\\n            </div>\\n        '});window.onload=function(){document.getElementById(\"root\").appendChild(s.$sueDomNode)}}]);","extractedComments":[]}